<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Shapes Editor (BETA)</title>
<style>

</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect2">
<h3 id="shapes-editor-guide">Shapes Editor (BETA)</h3>
<div class="paragraph">
<p>The Mobi web-based shapes graph editor is an experimental feature that provides users with a Distributed Management System for local and community development of (<a href="https://www.w3.org/TR/shacl/#shapes">SHACL Shapes</a>). The Shapes Editor features a customizable user interface, constraint capture, collaboration, shapes graph reuse, and extensibility.</p>
</div>
<div class="paragraph">
<p>To reach the Shapes Editor, click on the link in the left menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/shacl-editor/shacl_overview.png" alt="Shapes Overview Page">
</div>
<div class="title">Figure 1. Shapes Editor Overview page</div>
</div>
<div class="paragraph">
<p>The main Shapes Editor page includes a new action-bar where all the action buttons for a shapes graph record are located. From the action-bar, users can create, filter, and open different shapes graph records, branches, and tags.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/action_bar.png" alt="action bar" width="100%">
</div>
<div class="title">Figure 2. Shapes Editor Action Bar</div>
</div>
<div class="paragraph">
<p>When opening a shapes graph record, the editor will load the previous branch and/or commit you were viewing. If you have not previously opened the record or in the case that the branch you were viewing no longer exists, the editor will load the HEAD commit of the shape graph&#8217;s master branch. For an explanation of commits and branches, see the section on <a href="#_shapes_graph_versioning">Shapes Graph Versioning</a>.</p>
</div>
<div class="paragraph">
<p>Once a shapes graph record has been opened, The overview page displays a list of high-level information surrounding the shapes graph. This includes a shapes graph&#8217;s annotations, properties, imports, and a preview of the shapes graph serialized as RDF in <a href="https://www.w3.org/TR/turtle/">Turtle</a> syntax. Mobi will capture this high level information about a shapes graph with an OWL ontology object, following best practices from the SHACL W3C specification (see  <a href="https://www.w3.org/TR/shacl/#sparql-prefixes">this section</a> as an example).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/shapes_details.png" alt="shapes details">
</div>
<div class="title">Figure 3. Shapes Record Details</div>
</div>
<div class="sect3">
<h4 id="_creating_new_shapes_graphs">Creating New Shapes Graphs</h4>
<div class="paragraph">
<p>To create a shapes graph, select the btn:[Create Shapes Graph] button found in the dropdown for selecting a record. In the creation dialog, you are required to provide a title for the record and a file providing the initial shapes graph data (accepts all standard RDF formats). Users can also optionally provide a description and keywords which will be used to describe the shapes graph record in the local catalog.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/create_shapes.png" alt="create shapes" width="50%">
</div>
<div class="title">Figure 4. New Shapes Record Form</div>
</div>
<div class="paragraph">
<p>The Title field populates the <code>dcterms:title</code> annotations of the new shapes graph record and the Description field populates the <code>dcterms:description</code> annotations of the new shapes graph record. The keywords field will attach the entered values as keywords to the new record.</p>
</div>
</div>
<div class="sect3">
<h4 id="_editing_a_shapes_graph">Editing a Shapes Graph</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In-app shapes graph editing features are coming soon. In this BETA version, updates can be uploaded using the <a href="#_uploading_changes_to_shapes_graphs">Upload Changes feature</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_shapes_graph_versioning">Shapes Graph Versioning</h4>
<div class="paragraph">
<p>Each shapes graph in Mobi is versioned similarly to the <a href="https://git-scm.com/">Git</a> Version Control System, whereby all changes to a shapes graph are collected into a chain of "commits" which form a commit history called a "branch". Thus, every version in the history of a shapes graph can be generated by selecting a commit and applying all the changes in the branch back to the initial commit.</p>
</div>
<div class="paragraph">
<p>Every shapes graph is also initialized with a MASTER branch that contains the initial commit. Changes to the shapes graph can be uploaded to the MASTER branch or can be uploaded into separate branches. Changes uploaded on these branches exists in isolation until they are merged into the MASTER branch, joining any other changes committed in the meantime. When merging two branches, the Shapes Editor does its best to combine any changes made on both branches. If a conflict occurs, the editor allows the user to resolve them manually. More information on merging branches can be found in the section on <a href="#_merging_branches_on_shapes_graphs">Merging Branches</a>.</p>
</div>
<div class="sect4">
<h5 id="_branches_tags">Branches &amp; Tags</h5>
<div class="paragraph">
<p>In order to create a branch or tag, click the corresponding button in the action bar.</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/shacl-editor/create_branch_button.png" alt="create branch button"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/shacl-editor/create_tag_button.png" alt="create tag button"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Create Branch and Create Tag buttons</div>
<p>The branches dropdown provides a searchable list of branches and tags which can be checked out. To checkout a branch or tag, simply select the branch in the drop-down menu. Checking out a tag will open the ontology at the tagged commit in read-only mode. If you have checked out a commit from the commit history table, the commit will be in the dropdown list and show as selected. Note that the ability to check out a branch or tag will be disabled if you have any uncommitted changes on the current branch.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/versioning_dropdown.png" alt="versioning dropdown" width="40%">
</div>
<div class="title">Figure 5. Branches Dropdown</div>
</div>
<div class="paragraph">
<p>To delete a branch or tag, click on the delete icon next to the branch/tag in the drop-down menu. If a branch is deleted, all commits on that branch that are not part of another branch will be removed, as well as the branch itself. If a tag is deleted, the commit is not removed. Note that these actions cannot be undone.</p>
</div>
</div>
<div class="sect4">
<h5 id="_viewing_saved_changes_on_shapes_graphs">Viewing Saved Changes on Shapes Graphs</h5>
<div class="paragraph">
<p>Changes that have been uploaded to a shapes graph record are automatically saved and an indicator is shown in the action-bar. Users are able to reach the changes page by clicking the btn:[Show Changes] button found in the right-hand side of the action bar.</p>
</div>
<div class="paragraph">
<p>The changes page displays all saved and uncommitted changes in the opened shape graph. Saving changes without committing allows a user to edit an shape graph through a number of browser sessions before making any commits to the commit history. These changes are unique to the user, and are available to other users once a commit is performed. They are grouped by individual entity and display the triples on the entity grouped by property.  When a “Show Full” toggle is active, the changes display is updated to include all the other triples on that changed entity.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/changes_page.png" alt="changes page">
</div>
<div class="title">Figure 6. Changes Page</div>
</div>
<div class="paragraph">
<p>The Changes Page displays all the uncommitted changes and the commit history table for the opened shapes graph record. This provides users the ability to upload changes without committing and allows a user the opportunity to review proposed changes to a shapes graph in a more digestible manner before adding any commits to the commit history. Clicking the btn:[Remove All Changes] button will clear all the changes uploaded into the shape graph, resetting to the state of the current commit.</p>
</div>
<div class="paragraph">
<p>Users can also view a shapes graph record at a specific commit in time by clicking the btn:[View] button next to the corresponding commit in the commit history table.</p>
</div>
</div>
<div class="sect4">
<h5 id="_merging_branches_on_shapes_graphs">Merging Branches on Shapes Graphs</h5>
<div class="paragraph">
<p>Merging branches works much the same as the Ontology Editor. By clicking the btn:[Merge Branch] button found in the action-bar, users are brought to the merge view of the Shapes Editor.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/shacl-editor/merge_branches_button.png" alt="merge branches button">
</div>
<div class="title">Figure 7. Merge Branches button</div>
</div>
<div class="paragraph">
<p>The merge view displays the name of the current (source) branch, a select box for the branch (target) you want to merge into, and a checkbox for whether or not you want the source branch to be deleted after it is merged. The view also shows an aggregated view of all changes made in the source branch that will be merged into the target branch along with a list of all the commits that will be added to the target branch from the source branch.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/shacl-editor/merge_page.png" alt="merge page">
</div>
<div class="title">Figure 8. Merge View</div>
</div>
<div class="paragraph">
<p>Clicking btn:[Submit] will attempt to perform the merge. If there are no conflicts between the changes on both branches, a new commit will be created merging the two branches, and a success message will appear in the top right corner of the screen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uploading_changes_to_shapes_graphs">Uploading Changes to Shapes Graphs</h5>
<div class="paragraph">
<p>The btn:[Upload Changes] button in the action-bar allows you to upload a new version of your shapes graph from a file and apply the changes. Clicking this button will bring up an overlay where you can select the file with the changed shapes graph. Uploaded changes will not be automatically committed, but will allow you to review changes before making a new Commit.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="images/shacl-editor/upload_changes_button.png" alt="upload changes button" width="10%">
</div>
<div class="title">Figure 9. Upload Changes button</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-01-31 19:18:38 UTC
</div>
</div>
</body>
</html>