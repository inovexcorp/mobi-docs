[[discover-guide]]
=== Discover
The Mobi web-based Discover module allows users to quickly search and explore their knowledge graphs. The <<Explore,Explore>> tab provides an intuitive interface for quickly navigating through ontology-defined entities. The <<Query,Query>> tab allows users to develop and execute SPARQL queries.

TIP: To learn more about SPARQL queries, see the https://www.w3.org/TR/sparql11-query/[W3C Specification].

NOTE: The ability to save, publish, share and reuse SPARQL queries as part of applications or larger workflows is coming soon!

To reach the Discover page, click on the link in the left menu. The first tab shown is the <<Explore,Explore tab>>.

.The Discover Page
image::discover/full_discover_page_initial_view.png[]

==== Explore
The Explore tab of the Discover page allows you to get a high-level overview of the structure of your data within a <<datasets-manager-guide,dataset>>.

.Explore tab with classes
image::discover/explore_classes.png[]

The Explore tab opens with a view of all the classes found within the selected dataset and a button to create a new instance. Each card displays the label and a brief description about a class, the number of instances defined as that class, a few of those instances, and a button to explore the instances themselves. Clicking btn:[Explore Data] opens the instances view.

.Explore Tab with instances
image::discover/explore_instances.png[]

The instances view contains a paginated list of all the instances defined as a particular class. Each card displays the label, brief description about an instance, a button to explore the instance itself, and a button to delete the instance. The label is determined based on the values of the `rdfs:label`, `dc:title`, or `dcterms:title` properties on the instance. The description is based on the values of the `rdfs:comment`, `dc:description`, or `dcterms:description` properties on the instance. You can navigate back to the classes view using the breadcrumb trail in the top left. Clicking btn:[View _Class Name_] opens the single instance view. Clicking btn:[Create _Class Name_] opens the single instance editor. If the particular class has been deprecated in the ontology, you will not be able to create a new instance.

.Explore Tab with single instance
image::discover/explore_single_instance.png[]

The single instance view displays the IRI, label, brief description, and list of all properties associated with the selected instance. Each property will only show one value by default; however, you can view more values, if there are any, by clicking the "Show More" link for that property. The instance view can also display any assertions on a reification of a property value statement by clicking on the small downward arrow on the right side of a property value. Clicking btn:[Edit] opens the single instance editor.

.Explore Tab with single instance editor
image::discover/explore_single_instance_editor.png[]

The single instance editor displays the IRI and a list of all properties associated with the selected instance in an editable format. The IRI can be edited by clicking the pencil button next to the IRI which will open the <<Edit IRI Overlay>>. If the instance being edited does not have all the required properties set, as described by cardinality restrictions in the ontology, the instance cannot be saved. To add a another property value, type in the provided input and press the kbd:[ENTER] key. To remove a property value, click on the "X" button of the associated chip. To view a complete property value and add assertions to its reification, click on the associated chip.

CAUTION: Editing the instance IRI might break relationships within the dataset.

To add a new property to the instance, click btn:[Add New Property] and select the property in the overlay. After all edits have been made, clicking btn:[Cancel] will discard the current changes and go back to the single instance view. Clicking btn:[Save] will save the current changes to the repository and then go back to the single instance view.

==== Query
The Query tab of the Discover page allows you to submit SPARQL query against the Mobi repository and optionally a specific <<datasets-manager-guide,dataset>>.

.Query tab
image::discover/discover_query_editor_overview.png[]

The Query tab provides a SPARQL query editor powered by the https://triply.cc/docs/yasgui/[YASGUI] SPARQL library. The top section of the page contains the query editor (powered by https://triply.cc/docs/yasgui-api#yasqe[YASQE]), a Dataset field and a btn:[Submit] button. The [underline]#Dataset# field contains a list of all available <<datasets-manager-guides,datasets>> within the Mobi repository. Selecting a dataset limits the query to search through the data within the selected dataset. Clicking btn:[Submit] executes the entered query against the Mobi repository, optionally limited by the selected dataset, and updates the bottom section with the results.

The bottom section displays the results of the most recently submitted SPARQL query (powered by https://triply.cc/docs/yasgui-api#yasr[YASR]). The section has separate tabs for rendering the query result set depending on the type of SPARQL query submitted. SELECT query results are displayed under the Table tab where the headers of the table are the variables specified in the SPARQL query. The Table comes with features such as filtering, page size, sorting and pagination. CONSTRUCT query results can be displayed under the Turtle, JSON-LD and RDF/XML tabs. The query results are limited to 500 triples/rows for rendering, but the entire result set can be downloaded using the button in the upper right corner of the bottom section.

.Construct query
image::discover/discover_construct_query.png[]